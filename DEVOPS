{"name":"DEVOPS","posterior":[{"nodes":["ISSUE_AND_NO_OPS","pingWaylayServer_1","pingNodeServer_1","DEVOPS"],"function":[0.0,0.0,0.0,1.0,0.0,1.0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.0,1.0,0.0]},{"nodes":["ISSUE_AND_OPS","pingNodeServer_1","pingWaylayServer_1","DEVOPS"],"function":[0.0,0.0,1.0,0.0,1.0,0.0,1.0,0.0,1.0,1.0,0.0,1.0,0.0,1.0,0.0,1.0]},{"nodes":["PerformanceProblem_ToOPS","TrendFreeMemory","TrendCPU"],"function":[1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]}],"nodes":[{"name":"DEVOPS","type":"discrete","priors":[0.5,0.5],"states":["Found","NotFound"],"properties":{"cost":1.0,"position":[248,522],"nodeTrigger":{"nodeName":"weekDay","stateFrom":"*","stateTo":"*"},"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"mongolabGetItem","version":"1.0.2","requiredProperties":[{"identifier":"days"},{"item":"\u003cweekDay.state\u003e"},{"collection":"support"}]}}},{"name":"DeltaPings","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Above","Equal","Below"],"properties":{"cost":1.0,"position":[190,301],"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"Function","version":"1.0.1","requiredProperties":[{"formula":"\u003cpingWaylayServer_1.time\u003e - \u003cpingURLServer.time\u003e"},{"threshold":"100"}]}}},{"name":"ISSUE_AND_NO_OPS","type":"discrete","states":["TRUE","FALSE"],"properties":{"cost":1.0,"position":[411,411],"actions":[{"name":"TwillioSMS","version":"1.0.6","label":"TwillioSMS_1","position":[505,361],"triggeredProbability":1.0,"actionPolicy":3600,"requiredProperties":[{"to":"+32479960537"},{"message":"Issue and nobody available"}],"triggeredStates":["TRUE"]}]}},{"name":"ISSUE_AND_OPS","type":"discrete","states":["TRUE","FALSE"],"properties":{"cost":1.0,"position":[323,285],"actions":[{"name":"templateMail","version":"0.0.2","label":"alertDEVOPS","position":[437,218],"triggeredProbability":1.0,"actionPolicy":0,"requiredProperties":[{"subject":"{{RESOURCE}} is down"},{"from":"support@waylay.io"},{"to":"\u003cDEVOPS.e-mail\u003e"},{"message":"Hi {{DEVOPS.user}}, \n\u003cbr\u003e\n\u003cp\u003eAt {{{date}}} {{{time}}} there is an issue with {{RESOURCE}}\u003cp\u003e\n\u003cbr\u003e\n\n\u003ch2\u003eSnapshot:\u003c/h2\u003e\n\u003cbr\u003e\nCPU usage {{GLOBAL.cpuUsage}} [%]\n\u003cbr\u003e\nTotal Memory {{GLOBAL.totalMemory}} [MB]\n\u003cbr\u003e\nUsed Memory {{GLOBAL.usedMemory}} [MB]\n\u003cbr\u003e\nFree memory {{GLOBAL.freeMemory}} [MB]\n\u003cbr\u003e\nTotal Swap {{GLOBAL.totalSwap}} [MB]\n\u003cbr\u003e\nUsed Swap {{GLOBAL.usedSwap}} [MB]\n\u003cbr\u003e\nFree Swap {{GLOBAL.freeSwap}} [MB]\n\u003cbr\u003e\nTotal Disk {{GLOBAL.totalDisk}} [GB]\n\u003cbr\u003e\nUsed Disk {{GLOBAL.usedDisk}} [GB]\n\u003cbr\u003e\nFree Disk {{GLOBAL.freeDisk}} [GB]\n\u003cbr\u003e\nTrend CPU {{TrendCPU.formulaValue}}\n\u003cbr\u003e\nTrend Memory {{TrendFreeMemory.formulaValue}}\n\u003cbr\u003e\nCheers,\n\u003cbr\u003e\nwaylay"}],"triggeredStates":["TRUE"]}]}},{"name":"PerformanceProblem_ToOPS","type":"discrete","states":["TRUE","FALSE"],"properties":{"cost":1.0,"position":[700,361],"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_PerformanceIssue","position":[805,244],"triggeredProbability":1.0,"actionPolicy":922337203685477000,"requiredProperties":[{"subject":"performance issue"},{"message":"Performance issues,\n\nCPU usage \u003cGLOBAL.cpuUsage\u003e [%]\nTotal Memory \u003cGLOBAL.totalMemory\u003e [MB]\nUsed Memory \u003cGLOBAL.usedMemory\u003e [MB]\nFree memory \u003cGLOBAL.freeMemory\u003e [MB]\nTotal Swap \u003cGLOBAL.totalSwap\u003e [MB]\nUsed Swap \u003cGLOBAL.usedSwap\u003e [MB]\nFree Swap \u003cGLOBAL.freeSwap\u003e [MB]\n\nTotal Disk \u003cGLOBAL.totalDisk\u003e [GB]\nUsed Disk \u003cGLOBAL.usedDisk\u003e [GB]\nFree Disk \u003cGLOBAL.freeDisk\u003e [GB]\n\nTrend CPU \u003cTrendCPU.formulaValue\u003e\nTrend Memory \u003cTrendFreeMemory.formulaValue\u003e\n\n\n"}],"triggeredStates":["TRUE"]}]}},{"name":"TrendCPU","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Above","Equal","Below"],"properties":{"cost":1.0,"position":[572,475],"resource":"$","tickTrigger":true,"dataTrigger":true,"sensor":{"name":"Function","version":"1.0.1","requiredProperties":[{"formula":"\u003cGLOBAL.cpuUsage\u003e - \u003cavg(GLOBAL.cpuUsage)\u003e"},{"threshold":"10"}]}}},{"name":"TrendFreeMemory","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Above","Equal","Below"],"properties":{"cost":1.0,"position":[557,268],"resource":"$","tickTrigger":true,"dataTrigger":true,"sensor":{"name":"Function","version":"1.0.1","requiredProperties":[{"formula":"\u003cavg(GLOBAL.freeMemory)\u003e - \u003cGLOBAL.freeMemory\u003e"},{"threshold":"100"}]}}},{"name":"cpuUsage","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Below","Equal","Above"],"properties":{"cost":1.0,"position":[315,80],"resource":"$","tickTrigger":true,"dataTrigger":true,"sensor":{"name":"streamingDataSensor","version":"1.0.9","requiredProperties":[{"parameter":"cpuUsage"},{"threshold":"30"}]},"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_CPU","position":[468,133],"triggeredProbability":1.0,"actionPolicy":0,"requiredProperties":[{"subject":"CPU issue"},{"message":"Performance issues,\n\nCPU usage \u003cGLOBAL.cpuUsage\u003e [%]\nTotal Memory \u003cGLOBAL.totalMemory\u003e [MB]\nUsed Memory \u003cGLOBAL.usedMemory\u003e [MB]\nFree memory \u003cGLOBAL.freeMemory\u003e [MB]\nTotal Swap \u003cGLOBAL.totalSwap\u003e [MB]\nUsed Swap \u003cGLOBAL.usedSwap\u003e [MB]\nFree Swap \u003cGLOBAL.freeSwap\u003e [MB]\n\nTotal Disk \u003cGLOBAL.totalDisk\u003e [GB]\nUsed Disk \u003cGLOBAL.usedDisk\u003e [GB]\nFree Disk \u003cGLOBAL.freeDisk\u003e [GB]\n\nTrend CPU \u003cTrendCPU.formulaValue\u003e\nTrend Memory \u003cTrendFreeMemory.formulaValue\u003e\n"}],"triggeredStates":["Above"]}]}},{"name":"freeDisk","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Below","Equal","Above"],"properties":{"cost":1.0,"position":[569,61],"resource":"$","tickTrigger":true,"dataTrigger":true,"sensor":{"name":"streamingDataSensor","version":"1.0.9","requiredProperties":[{"parameter":"freeDisk"},{"threshold":"10"}]},"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_AddDisk","position":[707,144],"triggeredProbability":1.0,"actionPolicy":922337203685477000,"requiredProperties":[{"subject":"add disk"},{"message":"Disk issues,\n\nCPU usage \u003cGLOBAL.cpuUsage\u003e [MB]\nTotal Memory \u003cGLOBAL.totalMemory\u003e [MB]\nUsed Memory \u003cGLOBAL.usedMemory\u003e [MB]\nFree memory \u003cGLOBAL.freeMemory\u003e [MB]\nTotal Swap \u003cGLOBAL.totalSwap\u003e [MB]\nUsed Swap \u003cGLOBAL.usedSwap\u003e [MB]\nFree Swap \u003cGLOBAL.freeSwap\u003e [MB]\n\nTotal Disk \u003cGLOBAL.totalDisk\u003e [GB]\nUsed Disk \u003cGLOBAL.usedDisk\u003e [GB]\nFree Disk \u003cGLOBAL.freeDisk\u003e [GB]\n"}],"triggeredStates":["Below"]}]}},{"name":"pingNodeServer_1","type":"discrete","priors":[0.5,0.5],"states":["Alive","Not Alive"],"properties":{"cost":1.0,"position":[211,408],"resource":"$","tickTrigger":true,"dataTrigger":true,"sensor":{"name":"pingNodeServer","version":"1.0.5","requiredProperties":[{"address":""},{"sensor":"alwaysON"},{"version":"1.0.1"}]}}},{"name":"pingURLServer","type":"discrete","priors":[0.5,0.5],"states":["Alive","NotAlive"],"properties":{"cost":1.0,"position":[74,389],"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"isURLAlive","version":"1.0.1","requiredProperties":[{"url":""}]}}},{"name":"pingWaylayServer_1","type":"discrete","priors":[0.5,0.5],"states":["Alive","Not Alive"],"properties":{"cost":1.0,"position":[67,197],"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"pingWaylayEngine","version":"1.0.2","requiredProperties":[{"domain":""}]}}},{"name":"restPingTrend","type":"discrete","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"states":["Above","Equal","Below"],"properties":{"cost":1.0,"position":[183,105],"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"Function","version":"1.0.1","requiredProperties":[{"formula":"\u003cpingWaylayServer_1.time\u003e - \u003cavg(5,samples,pingWaylayServer_1.time)\u003e"},{"threshold":"500"}]}}},{"name":"weekDay","type":"discrete","priors":[0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285],"states":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"properties":{"cost":1.0,"position":[97,532],"evictionTime":1000,"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"getWeekDay","version":"1.0.5","requiredProperties":[{"timeZone":""}]}}}],"user":"veselin@waylay.io","createTime":1443016093488,"lastUpdateTime":1443016093488,"info":[{"x":389,"y":605,"text":"DEVOPS  \n\u003cpre\u003eDevops data stored in the cloud, \ndaily allocation\u003c/pre\u003e"},{"x":888,"y":73,"text":"DEVOPS template \n\u003cpre\u003eInstall agent on the \nwaylay machine. Start task from the template with \u003cu\u003ewaylay domain \nin the resource\u003c/u\u003e\u003c/pre\u003e"},{"x":585,"y":378,"text":"SMS to the boss\n\u003cpre\u003e\nIf there is nobody \navailable, send SMS to the boss\u003c/pre\u003e"}],"metadata":{"videoURL": "https://www.youtube.com/embed/ld7pmEvNFsw", "info":[{"x":389,"y":605,"text":"DEVOPS  \n\u003cpre\u003eDevops data stored in the cloud, \ndaily allocation\u003c/pre\u003e"},{"x":888,"y":73,"text":"DEVOPS template \n\u003cpre\u003eInstall agent on the \nwaylay machine. Start task from the template with \u003cu\u003ewaylay domain \nin the resource\u003c/u\u003e\u003c/pre\u003e"},{"x":585,"y":378,"text":"SMS to the boss\n\u003cpre\u003e\nIf there is nobody \navailable, send SMS to the boss\u003c/pre\u003e"}]}}
