{"posterior":[{"nodes":["ISSUE_AND_OPS","pingNodeServer_1","pingWaylayServer_1","DEVOPS"],"function":[0,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1]},{"nodes":["ISSUE_AND_NO_OPS","pingWaylayServer_1","pingNodeServer_1","DEVOPS"],"function":[0,0,0,1,0,1,0,1,1,1,1,0,1,0,1,0]},{"nodes":["PerformanceProblem_ToOPS","TrendFreeMemory","TrendCPU"],"function":[1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1]}],"nodes":[{"states":["Above","Equal","Below"],"name":"CPUUsage","properties":{"position":[285,69],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"CPUUsage","requiredProperties":[{"formula":"<GLOBAL.cpuUsage>"},{"threshold":"50"}]},"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_CPU","position":[368,137],"requiredProperties":[{"subject":"CPU issue"},{"message":"Performance issues,\n\nCPU usage <GLOBAL.cpuUsage> [%]\nTotal Memory <GLOBAL.totalMemory> [MB]\nUsed Memory <GLOBAL.usedMemory> [MB]\nFree memory <GLOBAL.freeMemory> [MB]\nTotal Swap <GLOBAL.totalSwap> [MB]\nUsed Swap <GLOBAL.usedSwap> [MB]\nFree Swap <GLOBAL.freeSwap> [MB]\n\nTotal Disk <GLOBAL.totalDisk> [GB]\nUsed Disk <GLOBAL.usedDisk> [GB]\nFree Disk <GLOBAL.freeDisk> [GB]\n\nTrend CPU <TrendCPU.formulaValue>\nTrend Memory <TrendFreeMemory.formulaValue>\n"}],"triggeredStates":["Above"],"actionPolicy":0}]},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Above","Equal","Below"],"name":"DeltaPings","properties":{"position":[160,342],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"DeltaPings","requiredProperties":[{"formula":"<pingWaylayServer_1.time> - <pingServer.time>"},{"threshold":"100"}]}},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["TRUE","FALSE"],"name":"ISSUE_AND_OPS","properties":{"position":[323,285],"actions":[{"name":"MailDemo","version":"1.0.1","label":"AlertMail","position":[471,265],"requiredProperties":[{"subject":"ALERT"},{"from":"support@waylay.io"},{"to":"devOPS"},{"message":"server is down"}],"triggeredStates":["TRUE"],"actionPolicy":300}]},"type":"discrete","mode":"nature"},{"states":["TRUE","FALSE"],"name":"ISSUE_AND_NO_OPS","properties":{"position":[397,409],"actions":[{"name":"TwillioSMS","version":"1.0.4","label":"SMS_1","position":[481,358],"requiredProperties":[{"to":"+32479960537"},{"message":"issue and no OPS available"},{"TWILIO_AUTH_TOKEN":""},{"TWILIO_ACCOUNT_SID":""}],"triggeredStates":["TRUE"],"actionPolicy":922337203685477000}]},"type":"discrete","mode":"nature"},{"states":["TRUE","FALSE"],"name":"PerformanceProblem_ToOPS","properties":{"position":[676,373],"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_PerformanceIssue","position":[751,234],"requiredProperties":[{"subject":"performance issue"},{"message":"Performance issues,\n\nCPU usage <GLOBAL.cpuUsage> [%]\nTotal Memory <GLOBAL.totalMemory> [MB]\nUsed Memory <GLOBAL.usedMemory> [MB]\nFree memory <GLOBAL.freeMemory> [MB]\nTotal Swap <GLOBAL.totalSwap> [MB]\nUsed Swap <GLOBAL.usedSwap> [MB]\nFree Swap <GLOBAL.freeSwap> [MB]\n\nTotal Disk <GLOBAL.totalDisk> [GB]\nUsed Disk <GLOBAL.usedDisk> [GB]\nFree Disk <GLOBAL.freeDisk> [GB]\n\nTrend CPU <TrendCPU.formulaValue>\nTrend Memory <TrendFreeMemory.formulaValue>\n\n\n"}],"triggeredStates":["TRUE"],"actionPolicy":922337203685477000}]},"type":"discrete","mode":"nature"},{"states":["Above","Equal","Below"],"name":"TrendCPU","properties":{"position":[548,475],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"TrendCPU","requiredProperties":[{"formula":"<GLOBAL.cpuUsage> - <avg(GLOBAL.cpuUsage)>"},{"threshold":"10"}]}},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Above","Equal","Below"],"name":"TrendFreeMemory","properties":{"position":[557,268],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"TrendFreeMemory","requiredProperties":[{"formula":"<avg(GLOBAL.freeMemory)> - <GLOBAL.freeMemory>"},{"threshold":"100"}]}},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Above","Equal","Below"],"name":"freeDisk","properties":{"position":[535,68],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"freeDisk","requiredProperties":[{"formula":"<GLOBAL.freeDisk>"},{"threshold":"10"}]},"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_AddDisk","position":[701,144],"requiredProperties":[{"subject":"add disk"},{"message":"Disk issues,\n\nCPU usage <GLOBAL.cpuUsage> [MB]\nTotal Memory <GLOBAL.totalMemory> [MB]\nUsed Memory <GLOBAL.usedMemory> [MB]\nFree memory <GLOBAL.freeMemory> [MB]\nTotal Swap <GLOBAL.totalSwap> [MB]\nUsed Swap <GLOBAL.usedSwap> [MB]\nFree Swap <GLOBAL.freeSwap> [MB]\n\nTotal Disk <GLOBAL.totalDisk> [GB]\nUsed Disk <GLOBAL.usedDisk> [GB]\nFree Disk <GLOBAL.freeDisk> [GB]\n"}],"triggeredStates":["Below"],"actionPolicy":922337203685477000}]},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Alive","Not Alive"],"name":"pingNodeServer_1","properties":{"position":[294,549],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"pingNodeServer","version":"1.0.3","label":"pingNodeServer_1","requiredProperties":[{"address":""},{"sensor":"alwaysON"},{"version":"0.0.1"}]}},"type":"discrete","mode":"nature","priors":[0.5,0.5]},{"states":["Alive","NotAlive"],"name":"pingServer","properties":{"position":[74,389],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"isURLAlive","version":"1.0.1","label":"pingServer","requiredProperties":[{"url":""}]}},"type":"discrete","mode":"nature","priors":[0.5,0.5]},{"states":["Alive","Not Alive"],"name":"pingWaylayServer_1","properties":{"position":[55,223],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"pingWaylayEngine","version":"1.0.1","label":"pingWaylayServer_1","requiredProperties":[{"address":""}]},"actions":[{"name":"zendesk","version":"1.0.1","label":"Zendesk_ALERT","position":[260,200],"requiredProperties":[{"subject":"server down"},{"message":"ALERT, Issue handled by <devOPS.user>"}],"triggeredStates":["Not Alive"],"actionPolicy":300}]},"type":"discrete","mode":"nature","priors":[0.5,0.5]},{"states":["Above","Equal","Below"],"name":"restPingTrend","properties":{"position":[151,87],"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"Function","version":"1.0.1","label":"restPingTrend","requiredProperties":[{"formula":"<pingWaylayServer_1.time> - <avg(5,samples,pingWaylayServer_1.time)>"},{"threshold":"500"}]}},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"name":"weekDay","properties":{"position":[119,574],"tickTrigger":true,"dataTrigger":true,"cost":1,"evictionTime":1000,"sensor":{"name":"getWeekDay","version":"1.0.1","label":"weekDay","requiredProperties":[{"timeZone":""}]}},"type":"discrete","mode":"nature","priors":[0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285,0.14285714285714285]},{"states":["Found","NotFound"],"name":"DEVOPS","properties":{"position":[225,454],"nodeTrigger":{"nodeName":"weekDay","stateFrom":"*","stateTo":"*","states":[]},"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"mongolabGetItem","version":"1.0.2","label":"DEVOPS","requiredProperties":[{"item":"<weekDay.state>"},{"identifier":"days"},{"collection":"support"}]}},"type":"discrete","mode":"nature","priors":[0.5,0.5]}],"name":"DEVOPS"}
