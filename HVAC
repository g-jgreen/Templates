{"posterior":[{"nodes":["Incident","assetSensor_1","streamingRangeSensor_1"],"function":[0,1,1,0,0,0,1,0,0,1,1,1]}],"nodes":[{"states":["TRUE","FALSE"],"name":"Incident","properties":{"position":[285,329]},"type":"discrete","mode":"nature"},{"states":["Found","Not Found"],"name":"assetSensor_1","properties":{"position":[145,501],"tickTrigger":false,"dataTrigger":true,"cost":1,"resource":"$","evictionTime":3000,"sensor":{"name":"assetSensor","version":"0.0.8","label":"assetSensor_1","requiredProperties":[{"id":"BuildingID"}]}},"type":"discrete","mode":"nature","priors":[0.5,0.5]},{"states":["Found","Not Found"],"name":"hvacSupport","properties":{"position":[478,306],"nodeTrigger":{"nodeName":"Incident","stateFrom":"*","stateTo":"TRUE","states":[]},"tickTrigger":false,"dataTrigger":false,"cost":1,"evictionTime":3000,"sensor":{"name":"hvacSupport","version":"0.0.1","label":"hvacSupport","requiredProperties":[{"country":"assetSensor_1"}]},"actions":[{"name":"mandrillSendMail","version":"1.0.3","label":"mandrillSendMail_1","position":[635,257],"requiredProperties":[{"subject":"HVAC support"},{"from":"veselin@waylay.io"},{"to":"veselin@waylay.io"},{"message":"Hi <hvacSupport.user>,\nplease check the assets: \n\nAsset location: <assetSensor_1.country> (<assetSensor_1.city>) , \nAsset building : <assetSensor_1.BuildingID>\n\nCurrent temperature is <streamingRangeSensor_1.parameter>\nTarget temperature <streamingRangeSensor_1.target>\nState is <streamingRangeSensor_1.state>\n\nOutside temperature is <temperatureSensor_1.temperature>"}],"triggeredStates":["Found"],"actionPolicy":922337203685477000}]},"type":"discrete","mode":"nature","priors":[0.5,0.5]},{"states":["In Range","Below","Above"],"name":"streamingRangeSensor_1","properties":{"position":[125,281],"tickTrigger":false,"dataTrigger":true,"cost":1,"resource":"$","evictionTime":3000,"sensor":{"name":"streamingRangeSensor","version":"1.0.2","label":"streamingRangeSensor_1","requiredProperties":[{"parameter":"ActualTemp"},{"range":"5"},{"target":"TargetTemp"}]},"actions":[{"name":"debugDialog","version":"1.0.3","label":"alarmRange","position":[320,118],"requiredProperties":[{"message":""}],"triggeredStates":["Above"],"actionPolicy":10},{"name":"zendesk","version":"1.0.1","label":"zendesk_1","position":[356,198],"requiredProperties":[{"subject":"alert issue <streamingRangeSensor_1.parameter> out of range <streamingRangeSensor_1.range>"},{"message":"ticket"}],"triggeredStates":["Below","Above"],"actionPolicy":0}]},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]},{"states":["Freezing","Cold","Mild","Warm","Heat"],"name":"temperatureSensor_1","properties":{"position":[315,530],"nodeTrigger":{"nodeName":"assetSensor_1","stateFrom":"*","stateTo":"Found","states":[]},"tickTrigger":true,"dataTrigger":true,"cost":1,"sensor":{"name":"temperature","version":"1.0.3","label":"temperatureSensor_1","requiredProperties":[{"city":"assetSensor_1"}]}},"type":"discrete","mode":"nature","priors":[0.2,0.2,0.2,0.2,0.2]},{"states":["Above","Equal","Below"],"name":"Delta","properties":{"position":[414,444],"nodeTrigger":{"nodeName":"streamingRangeSensor_1","stateFrom":"*","stateTo":"*","states":[]},"tickTrigger":true,"dataTrigger":true,"sensor":{"name":"Function","version":"1.0.1","label":"Delta","requiredProperties":[{"formula":"<temperatureSensor_1.temperature> - <streamingRangeSensor_1.parameter>"},{"threshold":"10"}]},"actions":[{"name":"debugDialog","version":"1.0.3","label":"debugDialog_1","position":[599,392],"requiredProperties":[{"message":"too hot"}],"triggeredStates":["Above"],"actionPolicy":0}]},"type":"discrete","mode":"nature","priors":[0.3333333333333333,0.3333333333333333,0.3333333333333333]}],"name":"HVAC_DEMO"}
